# /usr/local/etc/motion/camera-usb.conf
#
# Sample configuration for USB attached camera
# on Seagate Central.
#
# This config file was generated by motion 4.3.2

###########################################################
# Configuration options specific to camera-usb
############################################################
# User defined name for the camera.
camera_name NAS-USB

# Numeric identifier for the camera.
camera_id 101

# Video device (e.g. /dev/video0) to be used for capturing.
videodevice /dev/video0

############################################################
# Picture output configuration parameters
############################################################

# File name(without extension) for movies relative to target directory
movie_filename CAM-USB_%t-%v-%Y%m%d%H%M%S
picture_filename CAM-USB-%Y%m%d%H%M%S-%q

# Target directory for pictures, snapshots and movies
target_dir /Data/Public/Motion/NAS-USB/

############################################################
# Image Processing configuration parameters
############################################################
# Parameters to control video device.  See motion_guide.html
; vid_control_params value

#
# Make sure to determine the pixel width and height of
# the attached camera. Sometimes "lsusb -v" shows this
# information. Othertimes you just have to plug the
# camera into a device, take a picture, then see.

# Image width in pixels.
width 640

# Image height in pixels.
height 480

# Specify one of either "framerate" in frames per second
# or "minimum_frame_time" in seconds between frames.
#
# Tests show that when idling, "minimum_frame_time = 1" 
# uses about 15% of one CPU and "framerate 2" uses about 
# 40% of one CPU on a Seagate Central.

# Maximum number of frames to be captured per second.
#framerate 2

# Gap in seconds between captured frames
minimum_frame_time 1

# Text to be overlayed in the lower left corner of images
text_left NAS-USB

# Text to be overlayed in the lower right corner of images.
text_right Garage\n%Y-%m-%d\n%T-%q

# Show the number of pixels that have changed in the top right
text_changes on

# Make the text bigger by this factor
text_scale 2


############################################################
# Motion detection configuration parameters
############################################################

# Always save pictures and movies even if there was no motion.
#emulate_motion off

# Threshold for number of changed pixels that triggers motion.
#
# Bear in mind the size of the generated image when setting
# this parameter. i.e. How many total pixels are in the image?
threshold 2000

# Noise threshold for the motion detection.
#
# If you have a "noisy" or "crackly" old camera then
# this is going to need to be set rather high.
noise_level 100

# Despeckle the image using (E/e)rode or (D/d)ilate or (l)abel.
#
# Commenting this out will slightly reduce CPU usage however
# if you have a camera that is getting triggered because the
# image it's producing is very "noisy" then this is going to 
# help.
despeckle_filter EeEedDdDl

# Number of images that must contain motion to trigger an event.
minimum_motion_frames 3

# Gap in seconds of no motion detected that triggers the end of an event.
event_gap 2

# The number of pre-captured (buffered) pictures from before motion.
pre_capture 2

# Number of frames to capture after motion is no longer detected.
post_capture 2

# Draw a square around detected motion
locate_motion_mode on

# Make the displayed square red
locate_motion_style redbox



